(this["webpackJsonpblog-application-frontend"]=this["webpackJsonpblog-application-frontend"]||[]).push([[0],{124:function(e,t,c){},150:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),o=c(30),a=c.n(o),s=c(13),i=c(11),l=(c(124),c(47)),j=c(10),b=c(74),d=(c(66),c(4)),u=c(85),h=c(7),O=c(15),g=c.n(O),x=c(0),m=x.createContext,p=x.useState,f=m(),S=function(e){var t=p(JSON.parse(localStorage.getItem("isLoggedIn"))||!1),c=Object(h.a)(t,2),n=c[0],r=c[1],o=p(JSON.parse(localStorage.getItem("user"))||!1),a=Object(h.a)(o,2),s=a[0],l=a[1];return Object(d.jsx)(f.Provider,{value:{isLoggedIn:n,login:function(e){r(!0),localStorage.setItem("isLoggedIn",JSON.stringify(!0)),l(e),localStorage.setItem("user",JSON.stringify(e))},user:s,logout:function(){return localStorage.setItem("isLoggedIn",JSON.stringify(!1)),r(!1),window.localStorage.removeItem("user"),l(null),Object(d.jsx)(i.a,{to:"/"})}},children:e.children})},v=function(e){var t=Object(n.useContext)(f),c=t.isLoggedIn,r=(t.login,t.logout),o=t.user,a=Object(j.c)(),i=a.isOpen;a.onOpen,a.onClose;return Object(d.jsxs)(b.c,Object(l.a)(Object(l.a)({as:"nav",align:"center",justify:"space-between",wrap:"wrap",padding:6,bg:"teal.500",color:"white"},e),{},{children:[Object(d.jsx)(b.c,{align:"center",mr:5,children:Object(d.jsx)(b.h,{as:s.b,to:"/",children:Object(d.jsx)(b.d,{as:"h1",size:"lg",letterSpacing:"tighter",children:"Blog Application"})})}),Object(d.jsxs)(b.a,{display:{base:i?"block":"none",md:"block"},mt:{base:4,md:0},children:[o&&Object(d.jsx)(u.a,{variant:"outline",_hover:{bg:"teal.700",borderColor:"teal.700"},children:o.name}),c&&Object(d.jsx)(u.a,{as:s.b,to:"/blogs",variant:"outline",_hover:{bg:"teal.700",borderColor:"teal.700"},children:"Create Blog"}),!c&&Object(d.jsx)(u.a,{as:s.b,to:"/login",variant:"outline",_hover:{bg:"teal.700",borderColor:"teal.700"},children:"LogIn or SignUp"}),c&&Object(d.jsx)(u.a,{onClick:r,variant:"outline",_hover:{bg:"teal.700",borderColor:"teal.700"},children:"Log Out"})]})]}))},y=c(52),w=c(90),C=c(19),k=c(89),I=function(e){var t,c=Object(n.useContext)(f),o=c.isLoggedIn,a=(c.login,c.logout,c.user),s=Object(i.g)().id,l=Object(n.useState)([]),j=Object(h.a)(l,2),O=j[0],x=j[1],m=Object(n.useState)(!1),p=Object(h.a)(m,2),S=p[0],v=p[1],I=Object(w.a)(),z=r.a.useState(!1),A=Object(h.a)(z,2),W=A[0],D=A[1],L=function(){return D(!1)},E=r.a.useRef();Object(n.useEffect)((function(){g.a.get("http://localhost:8000/api/v1/blogs/".concat(s)).then((function(e){x(e.data.blog)})).catch((function(e){}))}),[]);return Object(d.jsx)(C.a,{children:Object(d.jsx)(b.b,{maxW:"80rem",centerContent:!0,children:Object(d.jsx)(b.f,{columns:[1,1,1,1],children:Object(d.jsx)(b.a,(t={p:4,w:"1000px",display:{md:"flex"},borderWidth:1,margin:2},Object(y.a)(t,"p","2rem"),Object(y.a)(t,"children",Object(d.jsxs)(b.g,{align:{base:"center",md:"stretch"},textAlign:{base:"center",md:"left"},mt:{base:4,md:0},ml:{md:6},children:[Object(d.jsx)(b.h,{fontWeight:"bold",textTransform:"uppercase",fontSize:"lg",letterSpacing:"wide",color:"teal.600",children:O.name}),Object(d.jsx)(b.h,{my:1,display:"block",fontSize:"md",lineHeight:"normal",children:O.description}),Object(d.jsx)(b.h,{my:2,color:"gray.500",children:"Author: "+O.creator}),Object(d.jsx)(b.h,{my:2,color:"gray.500",children:"Created at: "+O.time}),o&&O.creator===a.name&&Object(d.jsx)(u.a,{w:"920px",variant:"outline",_hover:{bg:"teal.700",borderColor:"teal.700"},children:Object(d.jsx)("a",{href:"/blogs/"+s,children:" Update "})}),"error"===S&&Object(d.jsx)(b.h,{display:"block",fontSize:"sm",color:"red",children:"Something Went Wrong!! Please Try Again."}),"completed"===S&&Object(d.jsx)(i.a,{to:"/"}),o&&O.creator===a.name&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.a,{colorScheme:"red",w:"920px",variant:"outline",_hover:{bg:"red.200",borderColor:"red.200"},onClick:function(){return D(!0)},children:"Delete"}),Object(d.jsx)(k.a,{isOpen:W,leastDestructiveRef:E,onClose:L,children:Object(d.jsx)(k.f,{children:Object(d.jsxs)(k.c,{children:[Object(d.jsx)(k.e,{fontSize:"lg",fontWeight:"bold",children:"Delete"}),Object(d.jsx)(k.b,{children:"Are you sure to delete this blog? You can't undo this action afterwards."}),Object(d.jsxs)(k.d,{children:[Object(d.jsx)(u.a,{ref:E,onClick:L,children:"Cancel"}),Object(d.jsx)(u.a,{colorScheme:"red",onClick:function(e){e.preventDefault(),v("loading"),g.a.delete("http://127.0.0.1:8000/api/v1/blogs/".concat(s),{headers:{Authorization:"Bearer ".concat(a.token)}}).then((function(e){v("completed"),I({title:"Blog successfully deleted!!",duration:4e3,status:"success",isClosable:!0})})).catch((function(e){v("error")}))},ml:3,children:"Delete"})]})]})})})]})]})),t))})})})};var z=function(e){var t=e.id,c=e.name,n=e.description,o=e.creator,a=e.time,s=r.a.useState(!1),i=Object(h.a)(s,2);return i[0],i[1],Object(d.jsx)(b.a,{p:4,display:{md:"flex"},maxWidth:"62rem",borderWidth:1,margin:2,children:Object(d.jsxs)(b.g,{align:{base:"center",md:"stretch"},textAlign:{base:"center",md:"left"},mt:{base:4,md:0},ml:{md:6},children:[Object(d.jsx)(b.h,{fontWeight:"bold",textTransform:"uppercase",fontSize:"lg",letterSpacing:"wide",color:"teal.600",children:c}),Object(d.jsx)(b.h,{my:1,display:"block",fontSize:"md",lineHeight:"normal",children:n.substring(0,200)+"...."}),Object(d.jsx)(b.h,{my:2,color:"gray.500",children:"Author: "+o}),Object(d.jsx)(b.h,{my:2,color:"gray.500",children:"Created at: "+a}),Object(d.jsx)(u.a,{maxWidth:"100px",my:2,"align-right":!0,children:Object(d.jsx)("a",{href:"/blogs/view/"+t,children:" Show More"})})]})})},A=function(e){var t=Object(n.useState)([]),c=Object(h.a)(t,2),r=c[0],o=c[1];return Object(n.useEffect)((function(){g.a.get("http://localhost:8000/api/v1/blogs").then((function(e){o(e.data.blog)})).catch((function(e){}))}),[]),Object(d.jsx)(C.a,{children:Object(d.jsx)(b.b,{maxW:"80rem",centerContent:!0,children:Object(d.jsx)(b.f,{columns:[1,1,1,1],children:r.map((function(e){var t=e.id,c=e.name,n=e.description,r=e.creator,o=e.time;return Object(d.jsx)(z,{id:t,name:c,description:n,creator:r,time:o})}))})})})},W=c(2),D=c(86),L=c(43),E=c(87),B=c(57),q=c(22),P=Object(W.d)(q.b),J=Object(W.d)(q.a),N=function(e){var t=Object(n.useState)(!1),c=Object(h.a)(t,2),r=c[0],o=c[1],a=function(){return o(!r)},s=Object(n.useState)(),l=Object(h.a)(s,2),j=l[0],O=l[1],x=Object(n.useContext)(f),m=x.isLoggedIn,p=(x.login,Object(n.useState)()),S=Object(h.a)(p,2),v=S[0],y=S[1],C=Object(n.useState)(),k=Object(h.a)(C,2),I=k[0],z=k[1],A=Object(n.useState)(),W=Object(h.a)(A,2),q=W[0],N=W[1],U=Object(n.useState)("not-requested"),R=Object(h.a)(U,2),T=R[0],_=R[1],H=Object(n.useState)(),F=Object(h.a)(H,2),M=F[0],Y=F[1],G=Object(w.a)();return m?Object(d.jsx)(i.a,{to:"/"}):Object(d.jsx)(b.c,{flexDirection:"column",width:"100wh",height:"100vh",backgroundColor:"gray.200",justifyContent:"center",alignItems:"center",children:Object(d.jsxs)(b.g,{flexDir:"column",mb:"2",justifyContent:"center",alignItems:"center",children:[Object(d.jsx)(D.a,{bg:"teal.500"}),Object(d.jsx)(b.d,{color:"teal.400",children:"Welcome"}),Object(d.jsx)(b.a,{minW:{base:"90%",md:"468px"},children:Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault(),_("loading"),g.a.post("http://127.0.0.1:8000/api/v1/users/signup",{name:v,email:j,password:I,passwordConfirm:q}).then((function(e){_("completed"),G({title:"You Successfully Create your Account!! Please Login to Continue!!",duration:4e3,status:"success",isClosable:!0})})).catch((function(e){e.response.data.errors?Y(e.response.data.errors[0]):e.response.data.message.message?Y(e.response.data.message.errors.passwordConfirm.message):Y("User name already exists"),_("error")}))},children:Object(d.jsxs)(b.g,{spacing:4,p:"1rem",backgroundColor:"whiteAlpha.900",boxShadow:"md",children:[Object(d.jsx)(L.a,{children:Object(d.jsxs)(E.b,{children:[Object(d.jsx)(E.c,{pointerEvents:"none",children:Object(d.jsx)(P,{color:"gray.300"})}),Object(d.jsx)(E.a,{placeholder:"Name",type:"text",name:"name",onChange:function(e){return y(e.target.value)},required:!0,autoFocus:!0})]})}),Object(d.jsx)(L.a,{children:Object(d.jsxs)(E.b,{children:[Object(d.jsx)(E.c,{pointerEvents:"none",children:Object(d.jsx)(P,{color:"gray.300"})}),Object(d.jsx)(E.a,{placeholder:"Email",type:"email",name:"email",onChange:function(e){return O(e.target.value)},required:!0})]})}),Object(d.jsx)(L.a,{children:Object(d.jsxs)(E.b,{children:[Object(d.jsx)(E.c,{pointerEvents:"none",color:"gray.300",children:Object(d.jsx)(J,{color:"gray.300"})}),Object(d.jsx)(E.a,{type:r?"text":"password",placeholder:"Password",name:"password",onChange:function(e){return z(e.target.value)},required:!0}),Object(d.jsx)(E.d,{width:"4.5rem",children:Object(d.jsx)(u.a,{h:"1.75rem",size:"sm",onClick:a,children:r?"Hide":"Show"})})]})}),Object(d.jsx)(L.a,{children:Object(d.jsxs)(E.b,{children:[Object(d.jsx)(E.c,{pointerEvents:"none",color:"gray.300",children:Object(d.jsx)(J,{color:"gray.300"})}),Object(d.jsx)(E.a,{type:r?"text":"password",placeholder:"Confirm Password",name:"passwordConfirm",onChange:function(e){return N(e.target.value)},required:!0}),Object(d.jsx)(E.d,{width:"4.5rem",children:Object(d.jsx)(u.a,{h:"1.75rem",size:"sm",onClick:a,children:r?"Hide":"Show"})})]})}),"error"===T&&Object(d.jsx)(b.h,{display:"block",fontSize:"sm",color:"red",children:M}),"completed"===T&&Object(d.jsx)(i.a,{to:"/login"}),Object(d.jsxs)(u.a,{borderRadius:0,type:"submit",variant:"solid",colorScheme:"teal",width:"full",disabled:"loading"===T?1:0,children:["loading"===T&&Object(d.jsx)(B.a,{mr:3}),"SignUp"]})]})})})]})})},U=Object(W.d)(q.b),R=Object(W.d)(q.a),T=function(e){var t=Object(n.useState)(!1),c=Object(h.a)(t,2),r=c[0],o=c[1],a=Object(n.useState)(),s=Object(h.a)(a,2),l=s[0],j=s[1],O=Object(n.useState)(),x=Object(h.a)(O,2),m=x[0],p=x[1],S=Object(n.useState)("not-requested"),v=Object(h.a)(S,2),y=v[0],C=v[1],k=Object(w.a)(),I=Object(n.useContext)(f),z=I.isLoggedIn,A=I.login;return z?Object(d.jsx)(i.a,{to:"/"}):Object(d.jsxs)(b.c,{flexDirection:"column",width:"100wh",height:"100vh",backgroundColor:"gray.200",justifyContent:"center",alignItems:"center",children:[Object(d.jsxs)(b.g,{flexDir:"column",mb:"2",justifyContent:"center",alignItems:"center",children:[Object(d.jsx)(D.a,{bg:"teal.500"}),Object(d.jsx)(b.d,{color:"teal.400",children:"Welcome!"}),Object(d.jsx)(b.a,{minW:{base:"90%",md:"468px"},children:Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault(),C("loading"),g.a.post("http://127.0.0.1:8000/api/v1/users/login",{email:l,password:m}).then((function(e){C("completed"),A(e.data),k({title:" You Logged in Successfully!!",duration:4e3,status:"success",isClosable:!0})})).catch((function(e){C("error")}))},children:Object(d.jsxs)(b.g,{spacing:4,p:"1rem",backgroundColor:"whiteAlpha.900",boxShadow:"md",children:[Object(d.jsx)(L.a,{children:Object(d.jsxs)(E.b,{children:[Object(d.jsx)(E.c,{pointerEvents:"none",children:Object(d.jsx)(U,{color:"gray.300"})}),Object(d.jsx)(E.a,{type:"text",placeholder:"Email",name:"email",onChange:function(e){return j(e.target.value)},required:!0})]})}),Object(d.jsx)(L.a,{children:Object(d.jsxs)(E.b,{children:[Object(d.jsx)(E.c,{pointerEvents:"none",color:"gray.300",children:Object(d.jsx)(R,{color:"gray.300"})}),Object(d.jsx)(E.a,{type:r?"text":"password",placeholder:"Password",name:"password",onChange:function(e){return p(e.target.value)},required:!0}),Object(d.jsx)(E.d,{width:"4.5rem",children:Object(d.jsx)(u.a,{h:"1.75rem",size:"sm",onClick:function(){return o(!r)},children:r?"Hide":"Show"})})]})}),"error"===y&&Object(d.jsx)(b.h,{display:"block",fontSize:"sm",color:"red",children:"Wrong Email or Password!!!"}),Object(d.jsx)(u.a,{borderRadius:0,type:"submit",variant:"solid",colorScheme:"teal",width:"full",children:"Login"})]})})})]}),Object(d.jsxs)(b.a,{children:["New to us?"," ",Object(d.jsx)(b.e,{color:"teal.500",href:"/signup",children:"Sign Up"})]})]})},_=c(88),H=(Object(W.d)(q.b),Object(W.d)(q.a),function(e){var t=Object(n.useContext)(f),c=t.isLoggedIn,r=(t.login,t.user),o=Object(n.useState)(),a=Object(h.a)(o,2),s=a[0],l=a[1],j=Object(n.useState)(),O=Object(h.a)(j,2),x=O[0],m=O[1],p=Object(n.useState)("not-requested"),S=Object(h.a)(p,2),v=S[0],y=S[1],C=Object(n.useState)(),k=Object(h.a)(C,2),I=k[0],z=k[1],A=Object(w.a)();return c?Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault(),y("loading"),g.a.post("http://127.0.0.1:8000/api/v1/blogs",{name:s,description:x},{headers:{Authorization:"Bearer ".concat(r.token)}}).then((function(e){y("completed"),A({title:"Blog successfully created!!",duration:4e3,status:"success",isClosable:!0})})).catch((function(e){z(e.response.data.errors[0]),y("error")}))},children:Object(d.jsxs)(b.g,{spacing:4,p:"5rem",backgroundColor:"whiteAlpha.900",boxShadow:"md",children:[Object(d.jsx)(_.a,{rows:"3",placeholder:"Blog Title",type:"text",name:"name",onChange:function(e){return l(e.target.value)},required:!0,size:"lg"}),Object(d.jsx)(_.a,{rows:"10",placeholder:"Blog Description",type:"text",name:"description",onChange:function(e){return m(e.target.value)},required:!0,size:"lg"}),"error"===v&&Object(d.jsx)(b.h,{display:"block",fontSize:"sm",color:"red",children:I}),"completed"===v&&Object(d.jsx)(i.a,{to:"/"}),Object(d.jsx)(u.a,{borderRadius:0,type:"submit",variant:"solid",colorScheme:"teal",width:"full",children:"SUBMIT"})]})}):Object(d.jsx)(i.a,{to:"/"})}),F=(Object(W.d)(q.b),Object(W.d)(q.a),function(e){var t=Object(n.useState)(!1),c=Object(h.a)(t,2),r=c[0],o=c[1],a=Object(i.g)().id,s=Object(n.useState)([]),l=Object(h.a)(s,2),j=(l[0],l[1]),O=Object(n.useState)(),x=Object(h.a)(O,2),m=x[0],p=x[1],S=Object(n.useState)(),v=Object(h.a)(S,2),y=v[0],C=v[1],k=Object(n.useState)(),I=Object(h.a)(k,2),z=I[0],A=I[1],W=Object(n.useState)(!1),D=Object(h.a)(W,2),L=D[0],E=D[1],B=Object(n.useState)(),q=Object(h.a)(B,2),P=q[0],J=q[1],N=Object(w.a)(),U=Object(n.useContext)(f),R=U.isLoggedIn,T=(U.login,U.user);Object(n.useEffect)((function(){g.a.get("http://localhost:8000/api/v1/blogs/".concat(a)).then((function(e){j(e.data.blog),p(e.data.blog.name),A(e.data.blog.description),C(e.data.blog.creator),E(!0),o(!0)})).catch((function(e){}))}),[]);return r?R&&y===T.name?Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault(),E("loading"),g.a.patch("http://127.0.0.1:8000/api/v1/blogs/".concat(a),{name:m,description:z},{headers:{Authorization:"Bearer ".concat(T.token)}}).then((function(e){E("completed"),N({title:"Blog successfully updated!!",duration:4e3,status:"success",isClosable:!0})})).catch((function(e){J(e.response.data.errors[0]),E("error")}))},children:Object(d.jsxs)(b.g,{spacing:4,p:"5rem",backgroundColor:"whiteAlpha.900",boxShadow:"md",children:[Object(d.jsx)(_.a,{rows:"3",type:"text",name:"name",value:m,onChange:function(e){return p(e.target.value)},autoFocus:!0,size:"lg"}),Object(d.jsx)(_.a,{rows:"10",value:z,type:"text",name:"description",onChange:function(e){return A(e.target.value)},size:"lg"}),"error"===L&&Object(d.jsx)(b.h,{display:"block",fontSize:"sm",color:"red",children:P}),"completed"===L&&Object(d.jsx)(i.a,{to:"/blogs/view/"+a}),Object(d.jsx)(u.a,{borderRadius:0,type:"submit",variant:"solid",colorScheme:"teal",width:"full",children:"UPDATE"})]})}):Object(d.jsx)(i.a,{to:"/blogs/view/"+a}):Object(d.jsx)("h1",{children:"loading..."})});var M=function(){return Object(d.jsxs)(s.a,{children:[Object(d.jsx)(v,{}),Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{exact:!0,path:"/signup",component:N}),Object(d.jsx)(i.b,{exact:!0,path:"/login",component:T}),Object(d.jsx)(i.b,{exact:!0,path:"/",component:A}),Object(d.jsx)(i.b,{exact:!0,path:"/blogs",component:H}),Object(d.jsx)(i.b,{exact:!0,path:"/blogs/view/:id",component:I}),Object(d.jsx)(i.b,{exact:!0,path:"/blogs/:id",component:F})]})]})};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(C.a,{children:Object(d.jsx)(S,{children:Object(d.jsx)(M,{})})})}),document.getElementById("root"))}},[[150,1,2]]]);
//# sourceMappingURL=main.faa9080c.chunk.js.map